<!DOCTYPE HTML>
<html>
<head>
	<title>PDO</title>
	<meta charset="utf-8">
	<meta name="description " content="Версия 2020.04.15. Методичні вказівки для виконання лабораторної роботи з курсу ІТех2 для потоку КІ.">
	<link rel="stylesheet" type="text/css" href="styles.css">
</head>
<body>
	<div class="container">
		<div id="chapters">
			<h1 id="start">Уніфікований інтерфейс PDO</h1>
			<ul>
				<li><a href="#lab_goal">Мета роботи</a></li>
				<li><a href="#lab_manual">Методичні вказівки</a></li>
				<li><a href="#lab_software">Опис лабораторної установки</a></li>
				<li><a href="#lab_execution">Порядок виконання роботи</a></li>
				<li><a href="#lab_variants">Варіанти завдань</a></li>
				<li><a href="#lab_report">Зміст звіту</a></li>
				<li><a href="#lab_questions">Контрольні питання</a></li>
				<li><a href="#lab_literature">Додаткові джерела</a></li>
			</ul>
		</div>
			
		<div class="chapter" id="lab_goal">
			<span class="chapter_name">1. Мета роботи</span>
			<p>Вивчення методів управління підключеннями, виконання запитів і транзакцій у розширенні PDO для реалізації основних можливостей різних СУБД у Web-додатку.</p>
			<!-- <br>Знайомство з можливостями інтерфейсу MySQLi. -->
		</div>
		
		<div class="chapter" id="lab_manual">
			<span class="chapter_name">2. Методичні вказівки</span>
			<p>Під час підготовки до виконання лабораторної роботи слід повторити синтаксис операторів мови SQL стосовно операцій вибірки (SELECT) і модифікації (INSERT, DELETE, UPDATE) даних.</p>
			<p>Крім того, потрібно ознайомитися з програмними методами виконання запитів до бази даних, а також етапами виконання підготовленого запиту до бази даних із застосуванням інтерфейсу PDO.</p>
		</div>
		
		<div class="chapter" id="lab_software">
			<span class="chapter_name">3. Опис лабораторної установки</span>
			<p>Для виконання лабораторної роботи рекомендується використовувати:</p>
			<ul>
				<li>текстовий редактор, що має підсвічування синтаксису: Notepad++ чи Visual Studio Code;</li>
				<li>браузер: Mozilla Firefox чи Google Chrome;</li>
				<li>збірка веб-сервера, що містить у собі СУБД MySQL: XAMPP чи OpenServer.</li>
			</ul>
			<p>Рекомендовані засоби є вільним програмним забезпеченням.</p>
			<p>Для виконання лабораторної роботи не потрібен доступ до мережі Інтернет.</p>
		</div>
		
		<div class="chapter" id="lab_execution">
			<span class="chapter_name">4. Порядок виконання роботи</span>
			<ol>
				<li>Використовуючи утиліту phpMyAdmin, підготувати БД за варіантом (або виконати імпорт готової БД, якщо це передбачається вашим варіантом завдання, або сформувати БД за запропонованою в описі варіанта структурою, з довільним вмістом).</li>
				<li>Підготувати необхідні за варіантом SQL-запити до БД. <!-- Зверніть увагу, що багато запитів простіші, ніж здаються на перший погляд - у деяких варіантах структура БД надлишкова. --></li>
				<li>Перевірити виконання запитів у phpMyAdmin, використовуючи довільні параметри.</li>
				<li>Створити веб-додаток, що запитує в користувача параметри для запитів і виводить їхні результати. Використовувати підготовлені вирази. Рекомендації (дотримання їх спростить подальшу роботу):
					<ul>
						<li>розділити вихідний код на стартову сторінку (на якій розташовано форми для вказівки параметрів запитів), і окремі файли для обробників кожного запиту;</li>
						<li>код для створення підключення для всіх запитів у межах одного варіанта завдання один і той самий (тому що БД використовується одна), тому є сенс розмістити в окремому файлі, і підключати його за місцем вимоги, а не дублювати в кожному обробнику;</li>
						<li>елементи управління у формах для введення параметрів, де можливо, варто робити не текстовими полями, а списками, що випадають (формуючи їх на основі даних із БД), це дасть змогу користувачеві обирати можливі варіанти даних для запиту, а не вводити значення самостійно - це прискорить тестування роботи програми;</li>
						<li>в елементах для введення значень параметрів, у тих випадках, коли їх реалізовано як звичайні текстові поля для введення (буває, що інакше ніяк), має сенс використовувати атрибут value зі значенням за замовчуванням. Це спростить налагодження додатка і його демонстрацію.</li>
					</ul>
				</li>
			</ol>
			<div class="variants">Завдання для лабораторної є індивідуальними. Можливе спільне виконання в бригаді варіантів <b>усіх</b> її учасників. Номер варіанта студента розраховується через залишок від ділення його номера в журналі академгрупи на кількість доступних варіантів. У даній лабораторній роботі, номер свого варіанту можна дізнатися як N%10, де N &dash; номер у журналі академічної групи, або скористатися табличкою (<input type="checkbox" class="view-variants"> показати). Також свій варіант для кожної лабораторної можна дізнатися на <a href="https://knureigs.github.io/itech/gradebook/index.html" target="_blank">сторінці</a> з даними про поточну успішність.
				<table>
					<tr>
						<th>Номер за журналом</th>
						<th>Варіант завдання</th>
						<th rowspan="16">&nbsp;</th>
						<th>Номер за журналом</th>
						<th>Варіант завдання</th>
					</tr>
					<tr>
						<td>1</td>
						<td>1</td>
						<td>16</td>
						<td>6</td>
					</tr>
					<tr>
						<td>2</td>
						<td>2</td>
						<td>17</td>
						<td>7</td>
					</tr>
					<tr>
						<td>3</td>
						<td>3</td>
						<td>18</td>
						<td>8</td>
					</tr>
					<tr>
						<td>4</td>
						<td>4</td>
						<td>19</td>
						<td>9</td>
					</tr>
					<tr>
						<td>5</td>
						<td>5</td>
						<td>20</td>
						<td>0</td>
					</tr>
					<tr>
						<td>6</td>
						<td>6</td>
						<td>21</td>
						<td>1</td>
					</tr>
					<tr>
						<td>7</td>
						<td>7</td>
						<td>22</td>
						<td>2</td>
					</tr>
					<tr>
						<td>8</td>
						<td>8</td>
						<td>23</td>
						<td>3</td>
					</tr>
					<tr>
						<td>9</td>
						<td>9</td>
						<td>24</td>
						<td>4</td>
					</tr>
					<tr>
						<td>10</td>
						<td>0</td>
						<td>25</td>
						<td>5</td>
					</tr>
					<tr>
						<td>11</td>
						<td>1</td>
						<td>26</td>
						<td>6</td>
					</tr>
					<tr>
						<td>12</td>
						<td>2</td>
						<td>27</td>
						<td>7</td>
					</tr>
					<tr>
						<td>13</td>
						<td>3</td>
						<td>28</td>
						<td>8</td>
					</tr>
					<tr>
						<td>14</td>
						<td>4</td>
						<td>29</td>
						<td>9</td>
					</tr>
					<tr>
						<td>15</td>
						<td>5</td>
						<td>30</td>
						<td>0</td>
					</tr>
				</table>
			</div>
			<div>Відпрацювання виставляється після спільної зі студентом перевірки роботи проєкту, відповідей на запитання щодо коду та отримання викладачем посилання на репозиторій проєкту на GitHub, виконаного відповідно до всіх завдань цього розділу.</div>
			<!-- <p>Результат роботи демонструється в електронному вигляді.</p> -->
		</div>

		<div class="chapter" id="lab_variants">
			<span class="chapter_name">5. Варіанти завдань</span>
			<br>
			<p><b>Варіант 0.</b> Створити та заповнити довільними даними БД для зберігання інформації про інформаційні ресурси бібліотеки (Рисунок 5.0).</p>
			<figure class="pic_w_caption">
				<img src="images/2.3_assigment1_bgless.png">
				<figcaption>Рисунок 5.0 - Структура бази даних «Бібліотека»</figcaption>
			</figure>
			<p>Розрізняють 3 види ресурсів: книги, журнали, газети. Книги характеризуються назвою, унікальним номером (ISBN), видавництвом, роком видання, кількістю сторінок. Книга може мати довільну кількість авторів. Журнали характеризуються назвою, роком випуску, номером. Газети характеризуються назвою та датою виходу (день, місяць, рік). Книги та журнали можуть містити додаткові інформаційні ресурси (наприклад, компакт-диски), які обліковуються та реєструються окремо.</p>
			<p>Сформувати запити, які виводитимуть на екран інформацію о:</p>
			<ul>
				<li>книгах зазначеного видавництва;</li>
				<li>книжках, журналах і газетах, опублікованих за вказаний часовий період (враховувати рік видання);</li>
				<li>книгах зазначеного автора.</li>
			</ul>
			<p>Приклади скріншотів <a href="images/itech2_lab_pdo_literature_index.png" target="_blank">стартової сторінки</a> і <a href="images/itech2_lab_pdo_literature_result.png" target="_blank">сторінки результату</a>. Зверніть увагу, що тут усі три запити об'єднано в одній формі, і результат формується залежно від того, які саме поля було заповнено. Для майбутньої роботи було б зручніше розділити на три окремі форми, і кожній з них зробити свій обробник, який формує свою сторінку з результатом одного запиту.</p>
			<br>
			<p><b>Варіант 1.</b> Імпортувати БД для зберігання <a href="Additional/iteh2lb1var2.sql">інформації про розклад проведення занять</a> (Рисунок 5.1).</p>
			<figure class="pic_w_caption">
				<img src="images/2.4_assigment2_bgless.png">
				<figcaption>Рисунок 5.1 – Структура бази даних «Розклад занять»</figcaption>
			</figure>
			<p>Для кожного заняття задається день тижня, номер пари, аудиторія, група, назва дисципліни, вид заняття.</p>
			<!-- <p><b>Варіант 2.</b> Створити структуру бази даних для зберігання інформації про розклад проведення занять (Рисунок 1.2).</p>
			<p>Для кожного заняття задається день тижня, номер пари, аудиторія, група, дисципліна, вид заняття. Розрізняють 3 види занять - лекції (1 викладач веде заняття з 1 і більше групами), практичні заняття (1 викладач працює з 1 групою), лабораторні заняття (2 викладачі працюють з 1 групою).</p> -->
			<p>Сформувати запити і вивести розклад занять для:</p>
			<ul>
				<li>довільної групи зі списку;</li>
				<li>довільного викладача зі списку;</li>
				<li>аудиторії зі списку.</li>
			</ul>
			<p>Забезпечити можливість додавання нових практичних занять (із зазначенням наявних групи та викладача) до БД засобами веб-додатку. Зверніть увагу на роботу з ключовими полями.</p>
			<p>Приклади скріншотів <a href="images/itech2_lab_pdo_lessons_index.png" target="_blank">стартової сторінки</a> і <a href="images/itech2_lab_pdo_lessons_result.png" target="_blank"> фрагмента сторінки результату</a> запиту для розкладу групи КІ-12-1. У цьому варіанті на стартовій сторінці є чотири форми - по одній для кожного із запитів на вибірку й окрема велика форма для введення параметрів для запиту на додавання даних.</p>
			<br>
			<p><b>Варіант 2.</b> Створити і заповнити довільними даними БД для зберігання інформації про час роботи над проектом кожного співробітника (Рисунок 5.2).</p>
			<figure class="pic_w_caption">
				<img src="images/2.5_assigment3_bgless.png">
				<figcaption>Рисунок 5.2 – Структура бази даних «Робота співробітників»</figcaption>
			</figure>
			<!-- <p>Розрізняють 3 види співробітників:</p>
			<ul>
				<li>начальник відділу (може переглядати інформацію про час роботи над проектами всіх підлеглих);</li>
				<li>менеджер проекту (може переглядати інформацію про час роботи над проектом кожного розробника);</li>
				<li>розробник - може поміщати в базу інформацію про час роботи над проектом.</li>
			</ul> -->
			<p>Організація може одночасно вести кілька проєктів. Кожен співробітник може бути залучений до роботи над кількома проєктами і виконувати різні ролі (наприклад, начальник відділу може бути менеджером одного проєкту і розробником, який виконує таски в іншому).</p>
			<p>Сформувати запити і вивести результати:</p>
			<ul>
				<li>інформація про виконані завдання за обраним проєктом на зазначену дату;</li>
				<li>загальний час роботи над обраним проєктом;</li>
				<li>кількість співробітників відділу обраного керівника.</li>
			</ul>
			<p><a href="images/itech2_lab_pdo_workers_index.png" target="_blank">Приклад</a> скріншота стартової сторінки додатка з формами для зазначення параметрів.</p>
			<br>
			<p><b>Варіант 3.</b> Імпортувати БД для зберігання <a href="Additional/iteh2lb1var4.sql">інформації про зміни чергувань у поліклініці</a> (Рисунок 5.3).</p>
			<p>Для медсестри зазначено її ім'я, відділення та робочу зміну (перша, друга або третя). Для палати (hospital ward) - назва (номер). Медсестри можуть працювати в різних палатах, в одній палаті може бути більше однієї медсестри.</p>
			<p>Сформувати запити і вивести результати:</p>
			<ul>
				<li>перелік палат, у яких чергує обрана медсестра;</li>
				<li>медсестри обраного відділення;</li>
				<li>чергування (у будь-яких палатах) у зазначену зміну.</li>
			</ul>
			<p>Забезпечити можливість додавання нових медсестер і палат у БД засобами веб-додатку. Можливість призначення обраної медсестри в зазначену палату. Зверніть увагу на роботу з ключовими полями.</p>
			<figure class="pic_w_caption">
				<img src="images/2.6_assigment4_bgless.png">
				<figcaption>Рисунок 5.3 – Структура бази даних «Зміна чергувань» <i>(з помилкою, не вистачає поля в таблиці ward)</i></figcaption>
			</figure>
			<br>
			<p><b>Варіант 4.</b> Створити та заповнити довільними даними БД для зберігання інформації про фільмотеку (Рисунок 1.4).</p>
			<p>Для фільму задається назва, жанр (може бути більше ніж один), рік виходу, країна, якість, тип носія (відеокасета, CD, DVD, BR). Для цифрових носіїв визначається роздільна здатність у пікселях і типи застосовуваних кодеків. Також для фільму може задаватися додаткова інформація, така як: продюсер, режисер і актори (довільна кількість).</p>
			<p>Сформувати запити і вивести результати:</p>
			<ul>
				<li>список фільмів обраного жанру;</li>
				<li>список фільмів з обраним актором;</li>
				<li>список фільмів за вказаний часовий інтервал.</li>
			</ul>
			<figure class="pic_w_caption">
				<img src="images/2.7_assigment5_bgless.png">
				<figcaption>Рисунок 5.4 – Структура бази даних «Фільмотека»</figcaption>
			</figure>
			<br>
			<p><b>Варіант 5.</b> Створити та заповнити довільними даними БД для зберігання інформації про товари в інтернет-магазині (Рисунок 5.5).</p>
			<p>Для товару задається назва, фірма-виробник, категорія товару (процесори, материнські плати тощо).), ціна товару, кількість одиниць на складі.</p>
			<p>Сформувати запити і вивести результати:</p>
			<ul>
				<li>товари обраного виробника;</li>
				<li>товари обраної категорії;</li>
				<li>товари в обраному ціновому діапазоні.</li>
			</ul>
			<figure class="pic_w_caption">
				<img src="images/2.8_assigment6_bgless.png">
				<figcaption>Рисунок 5.5 – Структура бази даних «Товари в магазині»</figcaption>
			</figure>
			<br>
			<p><b>Варіант 6.</b> Імпортувати БД для зберігання <a href="Additional/iteh2lb1var7.sql">інформації про пункт прокату машин</a> (Рисунок 5.6).</p>
			<p>У базі даних задається назва машини, виробник, рік випуску, пробіг, стан, вартість оренди, час оренди автомобіля.</p>
			<p>Сформувати запити і вивести результати:</p>
			<ul>
				<li>отриманий дохід з прокату станом на обрану дату;</li>
				<li>автомобілі обраного виробника;</li>
				<li>вільні автомобілі на обрану дату.</li>
			</ul>
			<p>Забезпечити можливість додавання в БД засобами веб-додатка інформації про оренду для обраного автомобіля на зазначені дати. Можливість зміни даних про пробіг для обраного автомобіля.</p>
			<figure class="pic_w_caption">
				<img src="images/2.9_assigment7_bgless.png">
				<figcaption>Рисунок 5.6 – Структура бази даних «Прокат машин»</figcaption>
			</figure>
			<br>
			<p><b>Варіант 7.</b> Створити та заповнити довільними даними БД для зберігання інформації про результати футбольного чемпіонату (Рисунок 5.7).</p>
			<p>Для кожної футбольної команди задається така інформація: назва, ліга, головний тренер. Для кожної гри задається дата проведення, команди учасниці, місце проведення, фінальний рахунок, футболісти, які беруть участь.</p>
			<p>Сформувати запити і вивести результати:</p>
			<ul>
				<li>таблиця чемпіонату обраної ліги;</li>
				<li>список ігор на вказаний часовий інтервал;</li>
				<li>список ігор обраного футболіста.</li>
			</ul>
			<figure class="pic_w_caption">
				<img src="images/2.10_assigment8_bgless.png">
				<figcaption>Рисунок 5.7 – Структура бази даних «Футбольний чемпіонат»</figcaption>
			</figure>
			<br>
			<p><b>Варіант 8.</b> Створити та заповнити довільними даними БД для зберігання інформації про використання мережевого трафіку (Рисунок 5.8).</p>
			<p>Для кожного клієнта задається логін, пароль, статична IP-адреса машини клієнта, баланс рахунку. Для сеансів роботи задається час початку і закінчення сеансу роботи, кількість вхідного трафіку, кількість вихідного трафіку.</p>
			<p>Сформувати запити і вивести результати:</p>
			<ul>
				<li>статистику роботи в мережі обраного клієнта;</li>
				<li>статистику роботи в мережі за вказаний проміжок часу;</li>
				<li>вивести список клієнтів з від'ємним балансом рахунку.</li>
			</ul>
			<figure class="pic_w_caption">
				<img src="images/2.11_assigment9_bgless.png">
				<figcaption>Рисунок 5.8 – Структура бази даних «Мережевий трафік»</figcaption>
			</figure>
			<br>
			<p><b>Варіант 9.</b> Створити і заповнити довільними даними БД для зберігання інформації про комп'ютери організації (Рисунок 5.9).</p>
			<p>Для кожного комп'ютера задається мережеве ім'я, тип центрального процесора, тип материнської плати, обсяг ОЗУ і НЖМД, тип монітора, встановлене програмне забезпечення, фірма-продавець, дата покупки, термін гарантії.</p>
			<p>Сформувати запити і вивести результати:</p>
			<ul>
				<li>список комп'ютерів із заданим типом центрального процесора;</li>
				<li>список комп'ютерів зі встановленим ПЗ (назву ПЗ вибирають із переліку);</li>
				<li>список комп'ютерів з вичерпаним гарантійним терміном.</li>
			</ul>
			<figure class="pic_w_caption">
				<img src="images/2.12_assigment10_bgless.png">
				<figcaption>Рисунок 5.9 – Структура бази даних «Комп'ютери організації»</figcaption>
			</figure>
		</div>
		
		<div class="chapter" id="lab_report">
			<span class="chapter_name">6. Зміст звіту</span>
			<ul>
				<li>титульний аркуш із зазначенням теми лабораторної, прізвища та ініціалів викладача, прізвища, ініціалів і групи студента, який виконав роботу;</li> 
				<li>мета роботи;</li> 
				<li>варіант завдання;</li>
				<li>ER-діаграма структури бази даних;</li>
				<li>дамп бази даних, сформований PHPMyAdmin;</li>
				<li>вихідні коди РНР-скриптів;</li>
				<li>результати виконання запитів у вигляді знімків екрана браузера;</li>
				<li>висновки по роботі.</li>
			</ul>
			<p>Допускається здача звіту в електронному вигляді. Для захисту наявність роздрукованого звіту не є необхідною. Під час викладання вихідного коду на GitHub пам'ятайте про дамп БД, для тих варіантів, де не пропонувалося готової БД для роботи.</p>
		</div>
		
		<div class="chapter" id="lab_questions">
			<span class="chapter_name">7. Контрольні питання</span>
			<ol>
				<li>Які розширення PHP для роботи з СУБД MySQL вам відомі?</li>
				<li>Які недоліки використання реляційних СУБД?</li>
				<li>У чому полягають переваги застосування інтерфейсу доступу до баз даних PDO?</li>
				<li>Яким чином здійснюється керування підключеннями до баз даних? Як створити постійне підключення?</li>
				<li>Як виконати SQL-запит на зміну даних, використовуючи інтерфейс PDO?</li>
				<li>Як отримати результати запиту на вибірку?</li>
				<li>Як отримати кількість рядків, яких торкнулися під час виконання останнього запиту на виконання?</li>
				<li>Як отримати ID останнього доданого рядка?</li>
				<li>Як перевірити наявність помилок під час з'єднання з базою даних або виконання SQL-запиту? У чому різниця між використанням методу errorInfo() для об'єкта PDOStatement і для об'єкта PDO?</li>
				<li>Для яких цілей призначені підготовлені запити? Як виконати зв'язування псевдозмінної та значення?</li>
				<li>Які існують режими вибірки?</li>
				<li>Який режим вибірки використовується за замовчуванням?</li>
				<li>У чому відмінності між режимами вибірки PDO::FETCH_NUM и PDO::FETCH_BOTH?</li>
				<li>Для чого служить режим вибірки PDO::FETCH_KEY_PAIR?</li>
				<li>Як отримати рядок результуючої вибірки у вигляді об'єкта?</li>
				<li>Для чого використовується метод fetchAll?</li>
				<li>Визначення транзакції, приклад використання?</li>
			</ol>
			<p>Знання відповідей на наведені запитання є необхідною, але не достатньою умовою для отримання високої оцінки за захист лабораторної роботи. Пам'ятайте про теми, розглянуті на лекціях!</p>
		</div>
		
		<div class="chapter" id="lab_literature">
			<span class="chapter_name">СПИСОК ЛІТЕРАТУРИ</span>
			<ol>  
				<li><a href="http://php.net/manual/ru/" target="_blank">Документація до мови PHP</a></li>
				<li>Посібник із сучасної PHP-розробки <a href="http://www.phptherightway.com" target="_blank">PHP: The Right Way</a></li>
				<li><a href="https://tproger.ru/translations/how-to-configure-and-use-pdo/" target="_blank">Налаштування та використання PDO</a></li>
				<li><a href="http://phpfaq.ru/pdo/" target="_blank">Вільний опис процесу роботи с PDO</a></li>
				<li><a href="https://www.w3schools.com/php/php_mysql_prepared_statements.asp" target="_blank">PHP Prepared Statements (в PDO и MySQLi)</a></li>
				<li><a href="http://2sql.ru/" target="_blank">Інформаційний ресурс о SQL</a></li>
				<li>Phil Sturgeon and Josh Lockhart "PHP: The Right Way"</li>
				<li>Метт Зандстра "PHP. Об'єкти, шаблони та методики програмування".</li>
				<li>Енді Гутманс, Стіг Баккен, Дерік Ретанс "PHP 5. Професійне програмування".</li>
				<!-- <li>Джордж Шлосснейгл "Професійне програмування на PHP".</li>
				<li>Кевін Янк "PHP і MySQL. Від новачка до професіонала".</li> -->
			</ol>
		</div>
		<br><a href="#start">Повернутися до початку</a>
		<br><a href="..\..\index.html">Повернутися на стартову сторінку ресурсу</a>
		<!-- Вдалого відпрацювання! --> 
	</div>
</body>
</html>
